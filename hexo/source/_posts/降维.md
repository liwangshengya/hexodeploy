---
title: é™ç»´
date: 2022-01-29 21:59:57
tags:
    - é™ç»´
    - ç®—æ³•
    - æœºå™¨å­¦ä¹ 
categories: æœºå™¨å­¦ä¹ 
---
#### é™ç»´

  &emsp;å½“æˆ‘ä»¬å¤„ç†å¾…å¤„ç†æ ·æœ¬æ•°æ®çš„ç‰¹å¾è¿‡å¤šï¼Œè€Œå…¶ä¸­æœ‰äº›ç‰¹å¾æœ‰æœ‰äº›é‡å¤ï¼Œè®¡ç®—èµ·æ¥é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é™ç»´ç®—æ³•ã€‚ å‡ä½¿æˆ‘ä»¬è¦é‡‡ç”¨ä¸¤ç§ä¸çš„ä»ªå™¨æ¥æµ‹é‡ä¸€äº›ä¸œè¥¿çš„å°ºå¯¸ï¼Œå…¶ä¸­ä¸€ä¸ªä»ªå™¨æµ‹é‡ç»“æœçš„å•ä½æ˜¯è‹±å¯¸ï¼Œå¦ä¸€ä¸ªä»ªå™¨æµ‹é‡çš„ç»“æœæ˜¯å˜ç±³ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æµ‹é‡çš„ç»“æœä½œä¸ºæˆ‘ä»¬æœºå™¨å­¦ä¹ çš„ç‰¹å¾ã€‚ç°åœ¨çš„é—®é¢˜çš„æ˜¯ï¼Œä¸¤ç§ä»ªå™¨å¯¹åŒä¸€ä¸ªä¸œè¥¿æµ‹é‡çš„ç»“æœä¸å®Œå…¨ç›¸ç­‰ï¼ˆç”±äºè¯¯å·®ã€ç²¾åº¦ç­‰ï¼‰ï¼Œè€Œå°†ä¸¤è€…éƒ½ä½œä¸ºç‰¹å¾æœ‰äº›é‡å¤ï¼Œå› è€Œï¼Œæˆ‘ä»¬å¸Œæœ›å°†è¿™ä¸ªäºŒç»´çš„æ•°æ®é™è‡³ä¸€ç»´.å°†æ•°æ®ä»äºŒç»´é™è‡³ä¸€ç»´çš„è¿‡ç¨‹å°±å«åšé™ç»´ã€‚
  ![20220130114733](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/20220130114733.png)
  å¦‚å›¾æ‰€ç¤ºï¼Œå°†æ‰€æœ‰åœ¨ä¸€ä¸ªå¹³é¢ä¸Šçš„æ ·æœ¬ç‚¹è½¬æ¢åˆ°ä¸€æ¡ç›´çº¿ä¸Šï¼Œå°†ä¸€ç»„ä¸¤ç»´çš„æ•°æ®ç”¨ä¸€ç»„ä¸€ç»´çš„æ¥è¡¨ç¤ºï¼Œè¿™å°±æ˜¯å°†äºŒç»´æ•°æ®é™ä¸ºä¸€ç»´ã€‚
  è€Œå¯¹äºä¸‰ç»´çš„æ•°æ®æˆ‘ä»¬å¯ä»¥é™ç»´ä¸¤ç»´ï¼Œå°†æ‰€æœ‰çš„æ ·æœ¬ç‚¹æŠ•å½±è‡³ä¸€ä¸ªå¹³é¢ã€‚
  ![20220130115449](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/20220130115449.png)

#### ä¸ºä»€ä¹ˆè¦é™ç»´

##### æ•°æ®å‹ç¼©

æ•°æ®å‹ç¼©å¯ä»¥ä½¿ç”¨è¾ƒå°‘çš„è®¡ç®—æœºå†…å­˜æˆ–ç£ç›˜ç©ºé—´ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åŠ é€Ÿæˆ‘ä»¬çš„å­¦ä¹ ç®—æ³•ã€‚å¯¹äºä¸€äº›ç‰¹å¾æ•°é‡è¾ƒé«˜çš„æ ·æœ¬æ•°æ®ï¼Œå¦‚æœä¸è¿›è¡Œæ•°æ®å‹ç¼©ï¼Œè®¡ç®—é‡ä¼šéå¸¸çš„å¤§ï¼Œå­¦ä¹ çš„é€Ÿåº¦å¤ªæ…¢ã€‚
##### æ•°æ®å¯è§†åŒ–
åœ¨è®¸å¤šæœºå™¨å­¦ä¹ é—®é¢˜ä¸­ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å°†æ•°æ®å¯è§†åŒ–ï¼Œæˆ‘ä»¬å°±æœ‰å¯èƒ½å¯»æ‰¾åˆ°ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æ—¶å€™å°±ç”¨åˆ°äº†é™ç»´ã€‚ 
![20220130115842](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/20220130115842.png)
å‡è®¾æˆ‘ä»¬æœ‰è®¸å¤šå…³äºä¸åŒå›½å®¶çš„æ•°æ®ï¼Œæ¯ä¸ªç‰¹å¾å‘é‡éƒ½æœ‰50ä¸ªç‰¹å¾ï¼Œå¦‚æœè¦å°†è¿™50ç»´æ•°æ®å¯è§†åŒ–æ˜¯ä¸å¯èƒ½çš„çš„ï¼Œå¦‚æœæˆ‘ä»¬èƒ½é€šè¿‡é™ç»´çš„æ–¹æ³•å°†å…¶é™è‡³2ç»´ï¼Œå°±å¯ä»¥è¿›è¡Œå¯è§†åŒ–äº†ã€‚
#### ä¸»æˆæˆåˆ†åˆ†æ(PCA)ç®—æ³•
ä¸»æˆæˆåˆ†åˆ†æ(Principal components analysis ç®€ç§°PCA)æ˜¯æœ€é‡è¦çš„çš„é™ç»´æ–¹æ³•ä¹‹ä¸€ã€‚ã€‚PCAç®—æ³•è¦åšçš„å°±æ˜¯æ‰¾å‡ºæ•°æ®é‡Œé¢çš„ä¸»è¦çš„æ–¹é¢ï¼Œç”¨å…¶æ¥ä»£æ›¿åŸå§‹çš„æ•°æ®ã€‚åœ¨PCAä¸­ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æ‰¾åˆ°ä¸€ä¸ªæ–¹å‘å‘é‡ï¼Œå½“æŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æŠ•å°„åˆ°è¯¥å‘é‡ä¸Šæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æŠ•å°„çš„å¹³å‡å‡æ–¹è¯¯å·®å°½å¯èƒ½çš„å°ã€‚
![20220130120952](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/20220130120952.png)
åœ¨å›¾ä¸­æ‰€ç¤ºçš„æ•°æ®ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©çº¢è‰²çš„çº¿ä½œä¸ºæ–¹å‘å‘é‡ï¼Œè€Œä¸é€‰æ‹©ç²‰çº¢è‰²çš„çº¿å°±æ˜¯åº”ä¸ºå…¶å¹³å‡å‡æ–¹è¯¯å·®å°ã€‚
##### PCAä¸çº¿æ€§å›å½’çš„åŒºåˆ«
![20220130121235](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/20220130121235.png)
å¦‚å›¾æ‰€ç¤ºï¼Œå·¦è¾¹æ˜¯çº¿æ€§å›å½’çš„è¯¯å·®(å‚ç›´äºæ¨ªè½´æ–¹å‘)ï¼Œçº¿æ€§å›å½’å°è¯•æœ€å°åŒ–çš„æ˜¯é¢„æµ‹è¯¯å·®ï¼Œæ¥é¢„æµ‹ç»“æœï¼›å³è¾¹æ˜¯PCAçš„è¯¯å·®ï¼Œå‚ç›´äºæ–¹å‘å‘é‡ï¼Œæœ€å°åŒ–çš„æ˜¯æŠ•å°„è¯¯å·®ï¼Œå¹¶ä¸ä¼šåšä»»ä½•é¢„æµ‹ã€‚
##### PCAç®—æ³•æµç¨‹
  1.æ•°æ®é¢„å¤„ç†ï¼šä¸­å¿ƒåŒ–X-$\overline{x}$
  2.æ±‚æ ·æœ¬çš„åæ–¹å·®çŸ©é˜µ$\frac{1}{m}XX^{T}$
  3.å¯¹åæ–¹å·®$\frac{1}{m}XX^{T}$çŸ©é˜µåšç‰¹å¾å€¼åˆ†è§£ã€‚
  4.é€‰å‡ºæœ€å¤§çš„kä¸ªç‰¹å¾å€¼å¯¹äºçš„kä¸ªç‰¹å¾å‘é‡
  5.å°†åŸå§‹æ•°æ®æŠ•å½±åˆ°é€‰å–çš„ç‰¹å¾å‘é‡ä¸Šã€‚
  6.è¾“å‡ºæŠ•å½±åçš„æ•°æ®é›†ã€‚
  è¯æ˜è¿‡ç¨‹çœ‹ä¸å¤ªæ‡‚ğŸ˜­ï¼Œæ‰€ä»¥è¿™é‡Œä»…ç»™å‡ºç®—æ³•æµç¨‹ï¼Œå…·ä½“è¯æ˜è¿‡ç¨‹å¯ä»¥å»çœ‹ä¸‹é¢è¿™ç¯‡åšå®¢ï¼š[ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰åŸç†æ€»ç»“](https://www.cnblogs.com/pinard/p/6239403.html)

#### PCAå®ç°

##### pythonå®ç°


```python
import numpy as np
import matplotlib.pylab as plt
```


```python
#è½½å…¥æ•°æ®
data=np.genfromtxt('data.csv',delimiter=',')
x_data=data[:,0]
y_data=data[:,1]
plt.scatter(x_data,y_data)
plt.show()
data.shape
```


â€‹    
![png](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/202201301444024.png)
â€‹    





    (100, 2)




```python
#å»ä¸­å¿ƒåŒ–
def zeroMean(dataMat):
    #æŒ‰åˆ—æ±‚å„ä¸ªç‰¹å¾çš„å¹³å‡å€¼
    meanMaT=np.mean(dataMat,axis=0)
    newMat=dataMat-meanMaT
    return newMat,meanMaT
```


```python
newMat,meanMat=zeroMean(data)
#np.cov ç”¨äºæ±‚åæ–¹å·®çŸ©é˜µï¼Œå‚æ•°rowvarè¯´æ˜æ•°æ®ä¸€è¡Œä»£è¡¨ä¸€ä¸ªæ ·æœ¬
covMat=np.cov(newMat,rowvar=0)
covMat#åæ–¹å·®çŸ©é˜µ
```




    array([[ 94.99190951, 125.62024804],
           [125.62024804, 277.49520751]])




```python
#ä¹Ÿå¯ä»¥ç”¨ (X.T * X)/mç›´æ¥æ¥ç®—
newMat.T.dot(newMat)/newMat.shape[0]
```




    array([[ 94.04199041, 124.36404556],
           [124.36404556, 274.72025544]])




```python
#np.linalg.eigæ±‚çŸ©é˜µç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡
eigVal,eigVects=np.linalg.eig(np.mat(covMat))
```


```python
#ç‰¹å¾å€¼
eigVal
```




    array([ 30.97826888, 341.50884814])




```python
#ç‰¹å¾å‘é‡
eigVects
```




    matrix([[-0.89098665, -0.45402951],
            [ 0.45402951, -0.89098665]])




```python
#å¯¹ç‰¹å¾å€¼ä»å°åˆ°å¤§æ’åº
eigValIndex=np.argsort(eigVal)
eigValIndex
```




    array([0, 1], dtype=int64)




```python
k=1 #é™ä¸ºkç»´
n_eigValIndex=eigValIndex[-1:-(k+1):-1]
#æœ€åä¸€ä¸ª-1æ˜¯ä»£è¡¨ä»å³å‘å·¦å–æ•°
n_eigValIndex
```




    array([1], dtype=int64)




```python
#æœ€å¤§çš„nä¸ªç‰¹å¾å€¼æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡
n_eigVect=eigVects[:,n_eigValIndex]
n_eigVect
```




    matrix([[-0.45402951],
            [-0.89098665]])




```python
#é™ç»´åçš„æ•°æ®
lowdata=newMat*n_eigVect
lowdata[:5,:]
```




    matrix([[ 44.02694787],
            [  1.49722533],
            [  3.35564513],
            [  1.73205523],
            [-17.84406034]])




```python
#ç”¨ä½çº¬åº¦æ•°æ®æ¥é‡æ„æ•°æ®
recoMat=(lowdata*n_eigVect.T)+meanMat
recoMat[:5,:]
```




    matrix([[28.96880808, 33.50762783],
            [48.27855698, 71.40104277],
            [47.43477956, 69.74521555],
            [48.17193728, 71.19181247],
            [57.06007136, 88.63387007]])




```python
plt.scatter(x_data,y_data)
plt.scatter(np.array(recoMat)[:,0],np.array(recoMat)[:,1],c='r')
plt.show()
```


![png](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/202201301444387.png)
    


##### sklearnå®ç°


```python
from sklearn.decomposition import PCA
model=PCA(n_components=1)#n_components è¡¨ç¤ºé™ç»´åçš„ç»´æ•°
model.fit(data)
```




    PCA(n_components=1)




```python
model.explained_variance_#ç‰¹å¾å€¼
```




    array([341.50884814])

```python
model.explained_variance_ratio_#æ‰€ä¿ç•™çš„nä¸ªæˆåˆ†å„è‡ªçš„æ–¹å·®ç™¾åˆ†æ¯”
```

```
array([0.91683399])
```


```python
model.components_#ç‰¹å¾å‘é‡
```




    array([[0.45402951, 0.89098665]])




```python
new_data=model.transform(data)#é™ç»´åçš„æ•°æ®
new_data[:5,:]
```




    array([[-44.02694787],
           [ -1.49722533],
           [ -3.35564513],
           [ -1.73205523],
           [ 17.84406034]])




```python
recdata=model.inverse_transform(new_data)#å°†é™ç»´åçš„æ•°æ®è¿˜åŸ
plt.scatter(data[:,0],data[:,1])
plt.scatter(recdata[:,0],recdata[:,1],c='r')
plt.show()
```


![png](https://cdn.jsdelivr.net/gh/liwangshengya/picture/img/202201301444253.png)
    

#### PCAç®—æ³•ä¼˜ç¼ºç‚¹

##### ä¼˜ç‚¹
1.ä»…ä»…éœ€è¦ä»¥æ–¹å·®è¡¡é‡ä¿¡æ¯é‡ï¼Œä¸å—æ•°æ®é›†ä»¥å¤–çš„å› ç´ å½±å“
2.å„ä¸»æˆæˆåˆ†ä¹‹é—´æ­£äº¤ï¼Œå¯ä»¥æ¶ˆé™¤åŸå§‹æ•°æ®æˆåˆ†é—´çš„ç›¸äº’å½±å“çš„å› ç´ 
3.è®¡ç®—æ–¹æ³•ç®€å•ï¼Œä¸»è¦è¿ç®—æ˜¯ç‰¹å¾å€¼åˆ†è§£ï¼Œæ˜“äºå®ç°

##### ç¼ºç‚¹
1.ä¸»æˆæˆåˆ†å„ä¸ªç‰¹å¾ç»´åº¦çš„å«ä¹‰å…·æœ‰ä¸€å®šçš„æ¨¡ç³Šæ€§ï¼Œä¸å¦‚åŸå§‹æ ·æœ¬è§£é‡Šæ€§å¼º
2.æ–¹å·®å°çš„éä¸»æˆæˆåˆ†ä¹Ÿå¯èƒ½å«æœ‰å¯¹æ ·æœ¬å·®å¼‚çš„é‡è¦ä¿¡æ¯ï¼Œå› é™ç»´ä¸¢å¼ƒå¯èƒ½å¯¹åç»­æ•°æ®å¤„ç†æœ‰å½±å“

